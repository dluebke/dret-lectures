
<!-- Do not edit by hand! Generated by Hotspot on 2021-10-19T19:03:49.231+02:00. Edit the source XML document instead! --><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>XML Schema (XSD) – Part III ; Erik Wilde ; UC Berkeley School of Information</title>
      <meta name="copyright" content="Copyright © 2013 Erik Wilde" />
      <link rel="DCTERMS.license" href="http://creativecommons.org/licenses/by/3.0/" title="CC 3.0" />
      <link rel="stylesheet" type="text/css" media="screen, projection, print" href="hotspot/kilauea/kilauea.css" />
      <link rel="stylesheet" type="text/css" media="screen, projection" href="hotspot/hotspot/layout/slidy/slidy.css" />
      <link rel="stylesheet" type="text/css" media="screen, projection" href="hotspot/hotspot/layout/ischool/ischool.css" />
      <link rel="stylesheet" type="text/css" media="print" href="hotspot/hotspot/layout/ischool/print.css" />
      <link rel="author" href="http://dret.net/netdret/" />
      <link rel="contents" href="./" title="XML Foundations" />
      <link rel="up" href="./" title="XML Foundations" />
      <link rel="home" href="./" title="XML Foundations" />
      <link rel="next" href="project-schedule#preparation" title="Project Presentation Preparation" />
      <link rel="last" href="summary" title="Summary" />
      <link rel="prev" href="xsd-2" title="XSD 2" />
      <link rel="start" href="intro" title="Introduction" />
      <link rel="first" href="intro" title="Introduction" />
      <link rel="chapter" href="intro" title="Introduction" />
      <link rel="chapter" href="basics" title="Basics" />
      <link rel="chapter" href="dtd" title="DTD" />
      <link rel="chapter" href="xpath" title="XPath" />
      <link rel="chapter" href="xpath20" title="XPath 2.0" />
      <link rel="chapter" href="xml-in-application.pdf" title="XML in Application" />
      <link rel="chapter" href="xmlns" title="Namespaces" />
      <link rel="chapter" href="xsd-1" title="XSD 1" />
      <link rel="chapter" href="xsd-2" title="XSD 2" />
      <link rel="chapter" href="xsd-3" title="XSD 3" />
      <link rel="chapter" href="project-schedule#preparation" title="Project Presentation Preparation" />
      <link rel="chapter" href="project-schedule#presentation" title="Project Presentations" />
      <link rel="chapter" href="project-schedule#feedback" title="Project Presentation Feedback" />
      <link rel="chapter" href="xslt-1" title="XSLT 1" />
      <link rel="chapter" href="xslt-2" title="XSLT 2" />
      <link rel="chapter" href="xslt20-1" title="XSLT 2.0 1" />
      <link rel="chapter" href="xslt20-2" title="XSLT 2.0 2" />
      <link rel="chapter" href="rest" title="REST" />
      <link rel="chapter" href="atom" title="Atom" />
      <link rel="chapter" href="xquery-1" title="XQuery 1" />
      <link rel="chapter" href="xdb" title="xDB" />
      <link rel="chapter" href="xquery-2" title="XQuery 2" />
      <link rel="chapter" href="relax-ng" title="RELAX NG" />
      <link rel="chapter" href="varia" title="XML Varia" />
      <link rel="chapter" href="summary" title="Summary" />
      <link rel="section" href="javascript:Kilauea.instances[0].showSlide(2)" title="1: Names and Namespaces" />
      <link rel="section" href="javascript:Kilauea.instances[0].showSlide(6)" title="2: Identity Constraints" />
      <link rel="section" href="javascript:Kilauea.instances[0].showSlide(13)" title="3: Complex Type Derivation" />
      <link rel="section" href="javascript:Kilauea.instances[0].showSlide(24)" title="4: Conclusions" />
      <link rel="subsection" href="javascript:Kilauea.instances[0].showSlide(16)" title="3.1: Complex Type Restriction" />
      <link rel="subsection" href="javascript:Kilauea.instances[0].showSlide(20)" title="3.2: Complex Type Extension" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(1)" title="Abstract" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(3)" title="Definitions" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(4)" title="Instances" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(5)" title="Name Qualification" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(7)" title="Element = Type + Constraints" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(8)" title="Improvements over ID/IDREF" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(9)" title="Types of Identity Constraints" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(10)" title="Identity Constraint Definitions" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(11)" title="Identity Constraint Evaluation" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(12)" title="Advanced Identity Constraints" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(14)" title="Types in XSD" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(15)" title="Type Derivation" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(17)" title="Removing Choices" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(18)" title="Complex Type Restriction (Example)" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(19)" title="Processing Restricted Complex Types" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(21)" title="Adding Content" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(22)" title="Complex Type Extension (Example)" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(23)" title="Processing Extended Complex Types" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(25)" title="XSD Features" />
      <link rel="bookmark" href="javascript:Kilauea.instances[0].showSlide(26)" title="Schema Components" />
      <link rel="alternate" href="xml-fall13.xml" title="XML" />
      <link rel="help" title="Quick Help" href="javascript:Kilauea.instances[0].help()" /><script type="text/javascript" src="hotspot/kilauea/kilauea.js"></script><script type="text/javascript">Kilauea.init({'#body': {titleSeparator: ' ; ', settings: {showToolbar: true, coupleFooter: true, stackBackgrounds: true}, plugins: {touch: {}}}});</script></head>
   <body>
      <div class="background"></div>
      <div class="slide cover">
         		
         <h1>XML Schema (XSD) – Part III</h1>
         		
         <h3><a class="extra " href="./" title="Course Homepage">XML Foundations</a><span class="print-href"> [./]</span><br />Fall 2013 — INFO 242 (CCN 41613)
         </h3>
         		
         <h5><span class="vcard"><a class="fn n url" href="http://dret.net/netdret/"><span class="given-name">Erik</span> <span class="family-name">Wilde</span></a><span class="org" style="display: none"><a class="url" href="http://www.berkeley.edu/" title="University of California, Berkeley">UC Berkeley</a> <a class="url" href="http://ischool.berkeley.edu/" title="ISchool">School of Information</a></span></span>, <span class="vcard"><a class="fn org url" href="http://www.berkeley.edu/" title="University of California, Berkeley">UC Berkeley</a></span><span class="vcard"><span class="fn org"> </span></span><span class="vcard"><a class=" url" href="http://ischool.berkeley.edu/" title="ISchool">School of Information</a></span><br />2013-10-07
         </h5>
         		
         		
         <div class="license">
            			
            <p><a class="extra " href="http://creativecommons.org/licenses/by/3.0/" rel="license" title="view full text of license"><img alt="Creative Commons License" src="hotspot/hotspot/layout/ischool/ischool/somerights20.png" border="0" height="31" width="88" /></a><span class="print-href"> [http://creativecommons.org/licenses/by/3.0/]</span></p>
            			
            <p><a class="extra outlink" href="http://creativecommons.org/licenses/by/3.0/" rel="license" title="view full text of license">This work is licensed under a CC<br />Attribution 3.0 Unported License</a><span class="print-href"> [http://creativecommons.org/licenses/by/3.0/]</span></p>
            		
         </div>
         	
         	
      </div>
      <div class="printtoc only-media-print">
         			
         <div class="printheader only-media-print">
            				<span class="part">Contents</span>
            				<span class="author">E. Wilde: </span>
            				<span class="presentation">XML Schema (XSD) – Part III</span> 
            			
         </div>
         			
         <h1>Contents</h1>
         			
         <ul>
            <li class="slide-entry"><span class="slidenum">2</span>Abstract
            </li>
            <li class="part-entry">1 Names and Namespaces
               <ul>
                  <li class="slide-entry"><span class="slidenum">4</span>Definitions
                  </li>
                  <li class="slide-entry"><span class="slidenum">5</span>Instances
                  </li>
                  <li class="slide-entry"><span class="slidenum">6</span>Name Qualification
                  </li>
               </ul>
            </li>
            <li class="part-entry">2 Identity Constraints
               <ul>
                  <li class="slide-entry"><span class="slidenum">8</span>Element = Type + Constraints
                  </li>
                  <li class="slide-entry"><span class="slidenum">9</span>Improvements over ID/IDREF
                  </li>
                  <li class="slide-entry"><span class="slidenum">10</span>Types of Identity Constraints
                  </li>
                  <li class="slide-entry"><span class="slidenum">11</span>Identity Constraint Definitions
                  </li>
                  <li class="slide-entry"><span class="slidenum">12</span>Identity Constraint Evaluation
                  </li>
                  <li class="slide-entry"><span class="slidenum">13</span>Advanced Identity Constraints
                  </li>
               </ul>
            </li>
            <li class="part-entry">3 Complex Type Derivation
               <ul>
                  <li class="slide-entry"><span class="slidenum">15</span>Types in XSD
                  </li>
                  <li class="slide-entry"><span class="slidenum">16</span>Type Derivation
                  </li>
                  <li class="part-entry">3.1 Complex Type Restriction
                     <ul>
                        <li class="slide-entry"><span class="slidenum">18</span>Removing Choices
                        </li>
                        <li class="slide-entry"><span class="slidenum">19</span>Complex Type Restriction (Example)
                        </li>
                        <li class="slide-entry"><span class="slidenum">20</span>Processing Restricted Complex Types
                        </li>
                     </ul>
                  </li>
                  <li class="part-entry">3.2 Complex Type Extension
                     <ul>
                        <li class="slide-entry"><span class="slidenum">22</span>Adding Content
                        </li>
                        <li class="slide-entry"><span class="slidenum">23</span>Complex Type Extension (Example)
                        </li>
                        <li class="slide-entry"><span class="slidenum">24</span>Processing Extended Complex Types
                        </li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="part-entry">4 Conclusions
               <ul>
                  <li class="slide-entry"><span class="slidenum">26</span>XSD Features
                  </li>
                  <li class="slide-entry"><span class="slidenum">27</span>Schema Components
                  </li>
               </ul>
            </li>
         </ul>
         		
      </div>
      <div class="slide">
         <div class="printheader only-media-print">
            			<span class="part"></span>
            			<span class="author">E. Wilde: </span>
            			<span class="presentation">XML Schema (XSD) – Part III</span> 
            		
         </div>
         <h1><span class="only-media-print printslidenum">(2)</span> Abstract
         </h1>
         <p class="abstract">XSD allows greater flexibility in defining constraints on intra-document references
            than the ID/IDREF construct of DTDs. XSD's <em>Identity Constraints</em> are scoped, typed, and can be used for elements or attributes. They are more powerful
            that the DTD's limited ID/IDREF mechanism, but still lack sufficient generality to
            support a really wide set of model constraints to be expressed. XSD complex types
            can be derived by <em>restriction</em> or <em>extension</em>. Complex type restriction defines the restricted type to be a more restricted version
            of the base type. Complex type extension make it possible to extend the base type
            by either adding attributes or contents (only by appending new content to the content
            model). Complex type derivation allows XSD to express type hierarchies of complex
            types, which can be aligned with more or less specialized code for processing instances
            of these types.
         </p><br /><br /></div>
      <div class="part" id="xsd-names">
         <h1 class="partTitle">Names and Namespaces</h1>
         <div class="slide outline">
            <h1>Outline<span style="display : none"> (Names and Namespaces)</span></h1>
            <ol class="outline">
               <li class="expand outline-current">Names and Namespaces [3]</li>
               <li><a href="#(7)" title="go to part &#34;Identity Constraints&#34;">Identity Constraints</a> [6]
               </li>
               <li><a href="#xsd-complex-type-derivation" title="go to part &#34;Complex Type Derivation&#34;">Complex Type Derivation</a> [8]
                  <ol class="outline">
                     <li><a href="#xsd-complex-type-restriction" title="go to part &#34;Complex Type Restriction&#34;">Complex Type Restriction</a> [3]
                     </li>
                     <li><a href="#xsd-complex-type-extension" title="go to part &#34;Complex Type Extension&#34;">Complex Type Extension</a> [3]
                     </li>
                  </ol>
               </li>
               <li><a href="#(25)" title="go to part &#34;Conclusions&#34;">Conclusions</a> [2]
               </li>
            </ol>
         </div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Names and Namespaces</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(4)</span> Definitions
            </h1>
            <ul>
               <li>Many XSDs define a vocabulary for a namespace
                  <ul>
                     <li>DTDs do not have any support for namespaces</li>
                     <li>XSD heavily builds on <a href="xmlns" class="inter " title="XML Namespaces">XML Namespaces</a><span class="print-href"> [XML Namespaces]</span></li>
                  </ul>
               </li>
               <li>XSD provides support for declaring a vocabulary's namespace<pre>&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" <span style="color : red ; ">targetNamespace="http://www.example.com/"</span>&gt;</pre></li>
               <li>Schema-validation can check for proper namespace usage
                  <ul>
                     <li>the <span class="xml" id="d9e6906">targetNamespace</span> has to be used in the instance
                     </li>
                     <li>if the namespace does not match, validation cannot succeed</li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Names and Namespaces</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(5)</span> Instances
            </h1>
            <ul>
               <li>The schema defines the <span class="xml" id="d9e6921">targetNamespace</span> of the vocabulary
                  <ul>
                     <li>all globally defined elements, attributes, and types are in that namespace</li>
                     <li>the instances must declare and use the namespace to be schema-valid</li>
                  </ul>
               </li>
            </ul><pre class="listing">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
 &lt;head&gt;
  &lt;title&gt;Multicolumn Layout in HTML&lt;/title&gt;
  &lt;style type="text/css"&gt;</pre><div class="ref-container listing-sourceref">
               <ul class="ref-links">
                  <li><a href="src/multicol.html#line=1,5" class="listing-sourceref" title="multicol.html (line 2-5)">multicol.html (line 2-5)</a></li>
               </ul>
            </div>
            <ul>
               <li>A <em>prefixed name</em> is not the same as a <em>qualified name</em><ul>
                     <li>if there is a default namespace, unprefixed elements are still qualified</li>
                  </ul>
               </li>
               <li>Nasty details about XML Namespaces and attributes
                  <ul>
                     <li>the default namespace does <em>not</em> apply to attributes
                     </li>
                     <li>attributes must therefore <em>always be prefixed</em> if they need to be qualified
                     </li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Names and Namespaces</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(6)</span> Name Qualification
            </h1>
            <ul>
               <li>Global elements and attributes have to be used as qualified names
                  <ul>
                     <li>this means that they must be referred to by their namespace-qualified name</li>
                     <li>if a default namespace is used, elements are qualified <em>without carrying a prefix</em></li>
                     <li>since the default namespace does not apply to attributes, they always must be explicitly
                        prefixed
                     </li>
                  </ul>
               </li>
               <li>Local elements and attributes may be used qualified or unqualified
                  <ul>
                     <li>this control <em>only applies to locally define elements or attributes</em></li>
                     <li>the default defined by XSD is not a good choice</li>
                     <li>because of how XML Namespaces work, a non-default choice is recommended</li>
                  </ul>
               </li>
               <li>XSD allows control over how local names have to be used</li>
            </ul><pre>&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.example.com/" <span style="color : red ; ">elementFormDefault="qualified" attributeFormDefault="unqualified"</span>&gt;</pre><br /><br /></div>
      </div>
      <div class="part">
         <h1 class="partTitle">Identity Constraints</h1>
         <div class="slide outline">
            <h1>Outline<span style="display : none"> (Identity Constraints)</span></h1>
            <ol class="outline">
               <li><a href="#xsd-names" title="go to part &#34;Names and Namespaces&#34;">Names and Namespaces</a> [3]
               </li>
               <li class="expand outline-current">Identity Constraints [6]</li>
               <li><a href="#xsd-complex-type-derivation" title="go to part &#34;Complex Type Derivation&#34;">Complex Type Derivation</a> [8]
                  <ol class="outline">
                     <li><a href="#xsd-complex-type-restriction" title="go to part &#34;Complex Type Restriction&#34;">Complex Type Restriction</a> [3]
                     </li>
                     <li><a href="#xsd-complex-type-extension" title="go to part &#34;Complex Type Extension&#34;">Complex Type Extension</a> [3]
                     </li>
                  </ol>
               </li>
               <li><a href="#(25)" title="go to part &#34;Conclusions&#34;">Conclusions</a> [2]
               </li>
            </ol>
         </div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Identity Constraints</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(8)</span> Element = Type + Constraints
            </h1>
            <ul>
               <li>DTDs and XSD are mainly about specifying grammars
                  <ul>
                     <li>types describe the allowed values using grammars</li>
                     <li>grammar-oriented schemas have some nice properties</li>
                  </ul>
               </li>
               <li>DTD's <a href="dtd#ididref" class="inter " title="Document Type Definition (DTD)">ID/IDREF</a><span class="print-href"> [Document Type Definition (DTD); ID/IDREF (1)]</span> allow additional constraints
                  <ul>
                     <li>apart from the grammar definition, cross-references in the tree are supported</li>
                     <li>validation checks the integrity of the cross-references, not only the tree</li>
                  </ul>
               </li>
               <li>DTD's ID/IDREF are a very simple mechanism
                  <ul>
                     <li>they are always global</li>
                     <li>they also define the type of the attribute (XML names)</li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Identity Constraints</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(9)</span> Improvements over ID/IDREF
            </h1>
            <ul>
               <li>XSD's <em>Identity Constraints</em> improve DTD's ID/IDREF
               </li>
               <li>Identity constraints are scoped and apply only to a selected set of nodes
                  <ul>
                     <li>the constraint applies only to a selected set of nodes (using XPath)</li>
                  </ul>
               </li>
               <li>Identity constraints are evaluated using typed values
                  <ul>
                     <li><code>ID</code>s must be XML names (no numbers allowed)
                     </li>
                     <li><q><code>2</code></q> ≟ <q><code>+00002</code></q> should be evaluated based on the type (string or decimal?)
                     </li>
                     <li>XSD separates the constraint from the type of the selected nodes</li>
                  </ul>
               </li>
               <li>Identity constraints may select elements or attributes
                  <ul>
                     <li>XPaths are used to select the constrained values, they can select elements or attributes</li>
                  </ul>
               </li>
               <li>Multiple fields
                  <ul>
                     <li>it is possible to select more than one field for a constraint (phone &amp; area code must
                        be unique)
                     </li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Identity Constraints</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(10)</span> Types of Identity Constraints
            </h1>
            <ul>
               <li>Uniqueness constraints
                  <ul>
                     <li>if there is a field, it must have a unique value among the selected nodes</li>
                  </ul>
               </li>
               <li>Key constraints
                  <ul>
                     <li>there must be a field, and it must have a unique value among the selected nodes</li>
                  </ul>
               </li>
               <li>Key reference constraints
                  <ul>
                     <li>the field must refer to an existing value in the referred key</li>
                     <li>if the key reference also is constrained by a key, only one reference may use the
                        referred key
                     </li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Identity Constraints</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(11)</span> Identity Constraint Definitions
            </h1>
            <ul>
               <li>Identity constraints are part of an element definition</li>
               <li>There are <em>three important factors</em> to an identity constraint
                  <ol>
                     <li>location of the identity constraint's definition</li>
                     <li>the nodes to which the constraint should be applied</li>
                     <li>the fields which are used to evaluate the constraint</li>
                  </ol>
               </li>
               <li>If the constraint is a key reference constraint, there is a <em>fourth factor</em><ol start="4">
                     <li>the key constraint that is used for checking the references</li>
                  </ol>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Identity Constraints</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(12)</span> Identity Constraint Evaluation
            </h1><img style="width : 90% ; margin : 4% ; " src="img/identity-constraints.png" alt="identity-constraints.png" /><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Identity Constraints</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(13)</span> Advanced Identity Constraints
            </h1><img style="width : 90% ; margin : 4% ; " src="img/identity-constraints++.png" alt="identity-constraints++.png" /><br /><br /></div>
      </div>
      <div class="part" id="xsd-complex-type-derivation">
         <h1 class="partTitle">Complex Type Derivation</h1>
         <div class="slide outline">
            <h1>Outline<span style="display : none"> (Complex Type Derivation)</span></h1>
            <ol class="outline">
               <li><a href="#xsd-names" title="go to part &#34;Names and Namespaces&#34;">Names and Namespaces</a> [3]
               </li>
               <li><a href="#(7)" title="go to part &#34;Identity Constraints&#34;">Identity Constraints</a> [6]
               </li>
               <li class="expand outline-current">Complex Type Derivation [8]
                  <ol class="outline">
                     <li><a href="#xsd-complex-type-restriction" title="go to part &#34;Complex Type Restriction&#34;">Complex Type Restriction</a> [3]
                     </li>
                     <li><a href="#xsd-complex-type-extension" title="go to part &#34;Complex Type Extension&#34;">Complex Type Extension</a> [3]
                     </li>
                  </ol>
               </li>
               <li><a href="#(25)" title="go to part &#34;Conclusions&#34;">Conclusions</a> [2]
               </li>
            </ol>
         </div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Complex Type Derivation</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(15)</span> Types in XSD
            </h1>
            <ul>
               <li><a href="xsd-1#xsd-simple-types" class="inter " title="XML Schema (XSD) – Part I">Simple Types</a><span class="print-href"> [XML Schema (XSD) – Part I; Simple Types (1)]</span> are used to model non-markup values
               </li>
               <li><a href="xsd-1#xsd-simple-type-restriction" class="inter " title="XML Schema (XSD) – Part I">Simple Type Restriction</a><span class="print-href"> [XML Schema (XSD) – Part I; Simple Type Restriction (1)]</span> is used to define simple user types
               </li>
               <li><a href="xsd-2#xsd-complex-types" class="inter " title="XML Schema (XSD) – Part II">Complex Types</a><span class="print-href"> [XML Schema (XSD) – Part II; Complex Types (1)]</span> are used to model markup structures
               </li>
               <li>Models often use generalization and specialization
                  <ul>
                     <li>not all models use this modeling technique</li>
                     <li>OO methods have made this very popular (UML is OO)</li>
                  </ul>
               </li>
               <li><a href="#xsd-complex-type-derivation" class="intra ">Complex Type Derivation</a><span class="print-href"> [Complex Type Derivation (1)]</span> is used to represent model hierarchies
                  <ul>
                     <li>in theory, this could be used by generalized and specialized code</li>
                     <li>in practice, the connection between XSD and code is too weak to be robust</li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Complex Type Derivation</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(16)</span> Type Derivation
            </h1>
            <ul>
               <li>XSD supports the modeling approach of <em>specialization</em><ul>
                     <li>simple types can be restricted to create more specialized simple types</li>
                     <li>each value of a restricted type is also a valid value of the more general type</li>
                  </ul>
               </li>
               <li>Complex types are combinations of content and attributes</li>
               <li>Specialization of complex types can be done in two ways
                  <ul>
                     <li><a href="#xsd-complex-type-restriction" class="intra ">Complex Type Restriction</a><span class="print-href"> [Complex Type Restriction (1)]</span>: more restricted ways of using the content and/or attributes
                     </li>
                     <li><a href="#xsd-complex-type-extension" class="intra ">Complex Type Extension</a><span class="print-href"> [Complex Type Extension (1)]</span>: additional content and/or attributes may be used
                     </li>
                  </ul>
               </li>
               <li>Both kinds of complex type derivation can be regarded as specialization
                  <ul>
                     <li><a href="#xsd-complex-type-restriction" class="intra ">Complex Type Restriction</a><span class="print-href"> [Complex Type Restriction (1)]</span>: for US persons the country must always be set to <q><code>US</code></q></li>
                     <li><a href="#xsd-complex-type-extension" class="intra ">Complex Type Extension</a><span class="print-href"> [Complex Type Extension (1)]</span>: people having an employee number are employees
                     </li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="part" id="xsd-complex-type-restriction">
            <h1 class="partTitle">Complex Type Restriction</h1>
            <div class="slide outline">
               <h1>Outline<span style="display : none"> (Complex Type Restriction)</span></h1>
               <ol class="outline">
                  <li><a href="#xsd-names" title="go to part &#34;Names and Namespaces&#34;">Names and Namespaces</a> [3]
                  </li>
                  <li><a href="#(7)" title="go to part &#34;Identity Constraints&#34;">Identity Constraints</a> [6]
                  </li>
                  <li class="expand"><a href="#xsd-complex-type-derivation" title="go to part &#34;Complex Type Derivation&#34;">Complex Type Derivation</a> [8]
                     <ol class="outline">
                        <li class="expand outline-current">Complex Type Restriction [3]</li>
                        <li><a href="#xsd-complex-type-extension" title="go to part &#34;Complex Type Extension&#34;">Complex Type Extension</a> [3]
                        </li>
                     </ol>
                  </li>
                  <li><a href="#(25)" title="go to part &#34;Conclusions&#34;">Conclusions</a> [2]
                  </li>
               </ol>
            </div>
            <div class="slide">
               <div class="printheader only-media-print">
                  			<span class="part">Complex Type Restriction</span>
                  			<span class="author">E. Wilde: </span>
                  			<span class="presentation">XML Schema (XSD) – Part III</span> 
                  		
               </div>
               <h1><span class="only-media-print printslidenum">(18)</span> Removing Choices
               </h1>
               <ul>
                  <li>Complex types usually allow variability
                     <ul>
                        <li><span class="xml" id="d9e7324">minOccurs</span> and <span class="xml" id="d9e7327">maxOccurs</span> allow variability in occurrences
                        </li>
                        <li><span class="xml" id="d9e7332">choice</span> groups allow to choose between a number of alternatives
                        </li>
                        <li>attributes may be flagged as <code>use="optional"</code></li>
                        <li>simple types allow the individual values to use certain sets of values</li>
                     </ul>
                  </li>
                  <li>Complex type restriction allows restrictions of all these variations
                     <ul>
                        <li><span class="xml" id="d9e7351">minOccurs</span> and <span class="xml" id="d9e7354">maxOccurs</span> can be made more restrictive
                        </li>
                        <li>alternatives can be removed from choice groups</li>
                        <li>optional attributes can flagged as <code>use="required"</code> or <code>use="prohibited"</code></li>
                        <li>the simple types of values can be set to more restricted simple types</li>
                     </ul>
                  </li>
                  <li>The technical way of defining restrictions is cumbersome
                     <ul>
                        <li>when the base type changes, the restricted type has to be fixed by hand</li>
                     </ul>
                  </li>
               </ul><br /><br /></div>
            <div class="slide">
               <div class="printheader only-media-print">
                  			<span class="part">Complex Type Restriction</span>
                  			<span class="author">E. Wilde: </span>
                  			<span class="presentation">XML Schema (XSD) – Part III</span> 
                  		
               </div>
               <h1><span class="only-media-print printslidenum">(19)</span> Complex Type Restriction (Example)
               </h1><pre class="listing">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
 &lt;xs:complexType name="addressType"&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name="name" type="xs:string"/&gt;
   &lt;xs:element name="street" type="xs:string"/&gt;
   &lt;xs:element name="city" type="xs:string" minOccurs="0"/&gt;
   &lt;xs:choice&gt;
    &lt;xs:element name="state" type="xs:string"/&gt;
    &lt;xs:element name="canton" type="xs:string"/&gt;
   &lt;/xs:choice&gt;
   &lt;xs:element name="zip" type="xs:decimal"/&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name="country" type="xs:NMTOKEN"/&gt;
  &lt;xs:attribute name="territory" type="xs:string" use="optional"/&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:complexType name="USaddressType"&gt;
  &lt;xs:complexContent&gt;
   &lt;xs:restriction base="addressType"&gt;
    &lt;xs:sequence&gt;
     &lt;xs:element name="name" type="xs:string"/&gt;
     &lt;xs:element name="street" type="xs:string"/&gt;
     &lt;xs:element name="city" type="xs:string"/&gt;
     &lt;xs:choice&gt;
      &lt;xs:element name="state" type="xs:string"/&gt;
     &lt;/xs:choice&gt;
     &lt;xs:element name="zip" type="zipType"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="country" type="xs:NMTOKEN"/&gt;
    &lt;xs:attribute name="territory" type="xs:string" use="prohibited"/&gt;
   &lt;/xs:restriction&gt;
  &lt;/xs:complexContent&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:simpleType name="zipType"&gt;
  &lt;xs:restriction base="xs:decimal"&gt;
   &lt;xs:totalDigits value="5"/&gt;
  &lt;/xs:restriction&gt;
 &lt;/xs:simpleType&gt;
&lt;/xs:schema&gt;</pre><div class="ref-container listing-sourceref">
                  <ul class="ref-links">
                     <li><a href="src/complex-restriction.xsd" class="listing-sourceref" title="complex-restriction.xsd">complex-restriction.xsd</a></li>
                  </ul>
               </div><br /><br /></div>
            <div class="slide">
               <div class="printheader only-media-print">
                  			<span class="part">Complex Type Restriction</span>
                  			<span class="author">E. Wilde: </span>
                  			<span class="presentation">XML Schema (XSD) – Part III</span> 
                  		
               </div>
               <h1><span class="only-media-print printslidenum">(20)</span> Processing Restricted Complex Types
               </h1>
               <ul>
                  <li>Values of restricted types are values of the base types
                     <ul>
                        <li>type restriction is defined so that restricted type values are always base type values</li>
                        <li>code processing a type can be reused to process restricted types</li>
                     </ul>
                  </li>
                  <li>If there is a well-designed type hierarchy, programming becomes easier
                     <ul>
                        <li>simple code can be written to handle the basic types</li>
                        <li>if required, more advanced code can be written for the restricted types</li>
                        <li>in many cases, restriction is more for validation than for processing</li>
                     </ul>
                  </li>
                  <li>XSDs may even use <em>abstract types</em><ul>
                        <li>no element will ever use the <span class="xml" id="d9e7429">addressType</span></li>
                        <li>concrete elements will only use restricted types</li>
                        <li>there can be code handling the <span class="xml" id="d9e7437">addressType</span> which handles all addresses
                        </li>
                     </ul>
                  </li>
               </ul><br /><br /></div>
         </div>
         <div class="part" id="xsd-complex-type-extension">
            <h1 class="partTitle">Complex Type Extension</h1>
            <div class="slide outline">
               <h1>Outline<span style="display : none"> (Complex Type Extension)</span></h1>
               <ol class="outline">
                  <li><a href="#xsd-names" title="go to part &#34;Names and Namespaces&#34;">Names and Namespaces</a> [3]
                  </li>
                  <li><a href="#(7)" title="go to part &#34;Identity Constraints&#34;">Identity Constraints</a> [6]
                  </li>
                  <li class="expand"><a href="#xsd-complex-type-derivation" title="go to part &#34;Complex Type Derivation&#34;">Complex Type Derivation</a> [8]
                     <ol class="outline">
                        <li><a href="#xsd-complex-type-restriction" title="go to part &#34;Complex Type Restriction&#34;">Complex Type Restriction</a> [3]
                        </li>
                        <li class="expand outline-current">Complex Type Extension [3]</li>
                     </ol>
                  </li>
                  <li><a href="#(25)" title="go to part &#34;Conclusions&#34;">Conclusions</a> [2]
                  </li>
               </ol>
            </div>
            <div class="slide">
               <div class="printheader only-media-print">
                  			<span class="part">Complex Type Extension</span>
                  			<span class="author">E. Wilde: </span>
                  			<span class="presentation">XML Schema (XSD) – Part III</span> 
                  		
               </div>
               <h1><span class="only-media-print printslidenum">(22)</span> Adding Content
               </h1>
               <ul>
                  <li>Complex types are element content and attributes
                     <ul>
                        <li>extensions can add content, but only at the end of the base content</li>
                        <li>extensions can add attributes (order is not significant for attributes)</li>
                     </ul>
                  </li>
                  <li>Adding content to existing content may not change the existing content
                     <ul>
                        <li>if the content is <em>element only</em>, it has to remain element only
                        </li>
                        <li>if the content is <em>mixed</em>, is has to remain mixed
                        </li>
                        <li>if the content is <em>empty</em>, it may become element only or mixed
                        </li>
                        <li>the reason for these rules is that <em>mixed</em> is a global property of a type
                        </li>
                     </ul>
                  </li>
                  <li>Adding attributes simply adds these to the list of existing attributes
                     <ul>
                        <li>the added attributes may be optional or required</li>
                     </ul>
                  </li>
               </ul><br /><br /></div>
            <div class="slide">
               <div class="printheader only-media-print">
                  			<span class="part">Complex Type Extension</span>
                  			<span class="author">E. Wilde: </span>
                  			<span class="presentation">XML Schema (XSD) – Part III</span> 
                  		
               </div>
               <h1><span class="only-media-print printslidenum">(23)</span> Complex Type Extension (Example)
               </h1><pre class="listing">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
 &lt;xs:complexType name="addressType"&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name="name" type="xs:string"/&gt;
   &lt;xs:element name="street" type="xs:string"/&gt;
   &lt;xs:element name="city" type="xs:string" minOccurs="0"/&gt;
   &lt;xs:choice&gt;
    &lt;xs:element name="state" type="xs:string"/&gt;
    &lt;xs:element name="canton" type="xs:string"/&gt;
   &lt;/xs:choice&gt;
   &lt;xs:element name="zip" type="xs:decimal"/&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name="country" type="xs:NMTOKEN"/&gt;
  &lt;xs:attribute name="territory" type="xs:string" use="optional"/&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:complexType name="businessAddressType"&gt;
  &lt;xs:complexContent&gt;
   &lt;xs:extension base="addressType"&gt;
    &lt;xs:sequence&gt;
     &lt;xs:element name="company" type="xs:string"/&gt;
     &lt;xs:element name="position" type="xs:string" minOccurs="0"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="relationship" type="xs:NMTOKEN"/&gt;
   &lt;/xs:extension&gt;
  &lt;/xs:complexContent&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;</pre><div class="ref-container listing-sourceref">
                  <ul class="ref-links">
                     <li><a href="src/complex-extension.xsd" class="listing-sourceref" title="complex-extension.xsd">complex-extension.xsd</a></li>
                  </ul>
               </div><br /><br /></div>
            <div class="slide">
               <div class="printheader only-media-print">
                  			<span class="part">Complex Type Extension</span>
                  			<span class="author">E. Wilde: </span>
                  			<span class="presentation">XML Schema (XSD) – Part III</span> 
                  		
               </div>
               <h1><span class="only-media-print printslidenum">(24)</span> Processing Extended Complex Types
               </h1>
               <ul>
                  <li>Values of extended types are <em>not</em> values of the base types
                     <ul>
                        <li>type extension adds content add/or attributes to a type</li>
                        <li>if content is added, it is always added at the end of the base type's content</li>
                     </ul>
                  </li>
                  <li>If there is a well-designed type hierarchy, programming becomes easier
                     <ul>
                        <li>simple code can be written to handle the basic types</li>
                        <li>if that should handle extended types, it must be written to handle extensions</li>
                        <li><q>handling extensions</q> can be as simple as skipping them
                        </li>
                     </ul>
                  </li>
                  <li>XSDs may even use <em>abstract types</em><ul>
                        <li>no element will ever use the <span class="xml" id="d9e7554">addressType</span></li>
                        <li>concrete elements will only use extended types</li>
                        <li>code handling extended types can build on code handling the base type</li>
                     </ul>
                  </li>
               </ul><br /><br /></div>
         </div>
      </div>
      <div class="part">
         <h1 class="partTitle">Conclusions</h1>
         <div class="slide outline">
            <h1>Outline<span style="display : none"> (Conclusions)</span></h1>
            <ol class="outline">
               <li><a href="#xsd-names" title="go to part &#34;Names and Namespaces&#34;">Names and Namespaces</a> [3]
               </li>
               <li><a href="#(7)" title="go to part &#34;Identity Constraints&#34;">Identity Constraints</a> [6]
               </li>
               <li><a href="#xsd-complex-type-derivation" title="go to part &#34;Complex Type Derivation&#34;">Complex Type Derivation</a> [8]
                  <ol class="outline">
                     <li><a href="#xsd-complex-type-restriction" title="go to part &#34;Complex Type Restriction&#34;">Complex Type Restriction</a> [3]
                     </li>
                     <li><a href="#xsd-complex-type-extension" title="go to part &#34;Complex Type Extension&#34;">Complex Type Extension</a> [3]
                     </li>
                  </ol>
               </li>
               <li class="expand outline-current">Conclusions [2]</li>
            </ol>
         </div>
         <div class="slide">
            <div class="printheader only-media-print">
               			<span class="part">Conclusions</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(26)</span> XSD Features
            </h1>
            <ul>
               <li>XSD allows defining a grammar for XML documents</li>
               <li>Identity constraints enable non-grammar constraints to be expressed</li>
               <li>XSD identity constraints are more powerful than the DTD ID/IDREF concept</li>
               <li>Only a subset of structural constraints can be expressed in XSD</li>
               <li>XSD 1.1 introduces the concept of <em>assertions</em> (XPath-based constraints)
               </li>
               <li>Types make it easier to turn a model into a grammar</li>
               <li>Some of the things we have not seen:
                  <ul>
                     <li>named groups, modularizing schemas, wildcards, substitution groups, …</li>
                  </ul>
               </li>
            </ul><br /><br /></div>
         <div class="slide" id="schema-components">
            <div class="printheader only-media-print">
               			<span class="part">Conclusions</span>
               			<span class="author">E. Wilde: </span>
               			<span class="presentation">XML Schema (XSD) – Part III</span> 
               		
            </div>
            <h1><span class="only-media-print printslidenum">(27)</span> Schema Components
            </h1><img style="height : 75% ; margin : 2% ; " src="img/schema-components.gif" title="Schema Components" alt="Schema Components" /><br /><br /></div>
      </div>
      <div class="printfooter only-media-print">
         			<span class="date">2013-10-07</span>
         			<span class="course"><a class="extra " href="./" title="Course Homepage">XML Foundations</a><span class="print-href"> [./]</span><br />Fall 2013 — INFO 242 (CCN 41613)</span>
         		
      </div>
   </body>
</html>